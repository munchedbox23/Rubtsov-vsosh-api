[{"D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\index.js":"1","D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\App.js":"2","D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\reportWebVitals.js":"3","D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\MainSection.jsx":"4","D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\Header\\Header.jsx":"5","D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\Header\\Image.jsx":"6","D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\MainContent\\Container.jsx":"7","D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\MainContent\\Buttons\\Buttons.jsx":"8","D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\MainContent\\MainImage.jsx":"9","D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\MainContent\\Authorization\\Authorization.jsx":"10","D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\MainContent\\Authorization\\Form.jsx":"11","D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\MainContent\\Buttons\\FormButtons\\FormBtn.jsx":"12","D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\ArchiveSection.jsx":"13","D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\ArchiveContent\\ArchiveContainer.jsx":"14","D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\ArchiveContent\\YearsMenu.jsx":"15","D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\ArchiveContent\\Theory\\ArchiveTheory.jsx":"16","D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\ArchiveContent\\Theory\\ArchiveExp.jsx":"17","D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\ArchiveContent\\ArchiveClasses.jsx":"18","D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\NewsSection.jsx":"19","D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\News\\NewsContent.jsx":"20","D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\Documents.jsx":"21","D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\Documents\\Document.jsx":"22","D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\TaskBank.jsx":"23","D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\TaskBank\\Task.jsx":"24","D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\Discussion.jsx":"25","D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\RouterSection.jsx":"26","D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\AuthRouter.jsx":"27"},{"size":620,"mtime":1700766068386,"results":"28","hashOfConfig":"29"},{"size":347,"mtime":1701281093783,"results":"30","hashOfConfig":"29"},{"size":362,"mtime":1697611051796,"results":"31","hashOfConfig":"29"},{"size":305,"mtime":1700825703562,"results":"32","hashOfConfig":"29"},{"size":334,"mtime":1698755989494,"results":"33","hashOfConfig":"29"},{"size":183,"mtime":1698755845118,"results":"34","hashOfConfig":"29"},{"size":758,"mtime":1701256390260,"results":"35","hashOfConfig":"29"},{"size":355,"mtime":1700825585291,"results":"36","hashOfConfig":"29"},{"size":199,"mtime":1700824742962,"results":"37","hashOfConfig":"29"},{"size":423,"mtime":1701278977590,"results":"38","hashOfConfig":"29"},{"size":4286,"mtime":1701286509205,"results":"39","hashOfConfig":"29"},{"size":643,"mtime":1701281406276,"results":"40","hashOfConfig":"29"},{"size":292,"mtime":1700825146980,"results":"41","hashOfConfig":"29"},{"size":739,"mtime":1698779434886,"results":"42","hashOfConfig":"29"},{"size":344,"mtime":1698763765414,"results":"43","hashOfConfig":"29"},{"size":358,"mtime":1699289410465,"results":"44","hashOfConfig":"29"},{"size":352,"mtime":1699289503208,"results":"45","hashOfConfig":"29"},{"size":2063,"mtime":1699289490945,"results":"46","hashOfConfig":"29"},{"size":1108,"mtime":1700823244600,"results":"47","hashOfConfig":"29"},{"size":305,"mtime":1698767855863,"results":"48","hashOfConfig":"29"},{"size":1287,"mtime":1700823407028,"results":"49","hashOfConfig":"29"},{"size":331,"mtime":1698773332264,"results":"50","hashOfConfig":"29"},{"size":5704,"mtime":1701278220211,"results":"51","hashOfConfig":"29"},{"size":780,"mtime":1701251002438,"results":"52","hashOfConfig":"29"},{"size":2701,"mtime":1701276461944,"results":"53","hashOfConfig":"29"},{"size":505,"mtime":1700829266076,"results":"54","hashOfConfig":"29"},{"size":281,"mtime":1701280709608,"results":"55","hashOfConfig":"29"},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1pbnus8",{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"66","messages":"67","suppressedMessages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","suppressedMessages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"72","messages":"73","suppressedMessages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"75","messages":"76","suppressedMessages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","suppressedMessages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","suppressedMessages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","suppressedMessages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","suppressedMessages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"90","messages":"91","suppressedMessages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"93","messages":"94","suppressedMessages":"95","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"96","messages":"97","suppressedMessages":"98","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"99","messages":"100","suppressedMessages":"101","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"102","messages":"103","suppressedMessages":"104","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"105","messages":"106","suppressedMessages":"107","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"108","messages":"109","suppressedMessages":"110","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"111","messages":"112","suppressedMessages":"113","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"114","messages":"115","suppressedMessages":"116","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"117","messages":"118","suppressedMessages":"119","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"120","messages":"121","suppressedMessages":"122","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"123","messages":"124","suppressedMessages":"125","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"126"},{"filePath":"127","messages":"128","suppressedMessages":"129","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"130","messages":"131","suppressedMessages":"132","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"133"},{"filePath":"134","messages":"135","suppressedMessages":"136","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"137","messages":"138","suppressedMessages":"139","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\index.js",[],[],"D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\App.js",[],[],"D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\reportWebVitals.js",[],[],["140"],"D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\MainSection.jsx",[],[],"D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\Header\\Header.jsx",[],[],"D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\Header\\Image.jsx",[],[],"D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\MainContent\\Container.jsx",[],[],"D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\MainContent\\Buttons\\Buttons.jsx",[],[],"D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\MainContent\\MainImage.jsx",[],[],"D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\MainContent\\Authorization\\Authorization.jsx",[],[],"D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\MainContent\\Authorization\\Form.jsx",[],[],"D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\MainContent\\Buttons\\FormButtons\\FormBtn.jsx",[],[],"D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\ArchiveSection.jsx",[],[],"D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\ArchiveContent\\ArchiveContainer.jsx",[],[],"D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\ArchiveContent\\YearsMenu.jsx",[],[],"D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\ArchiveContent\\Theory\\ArchiveTheory.jsx",[],[],"D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\ArchiveContent\\Theory\\ArchiveExp.jsx",[],[],"D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\ArchiveContent\\ArchiveClasses.jsx",[],[],"D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\NewsSection.jsx",[],[],"D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\News\\NewsContent.jsx",[],[],"D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\Documents.jsx",[],[],"D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\Documents\\Document.jsx",[],[],"D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\TaskBank.jsx",["141"],[],"import React, { useState, useEffect, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport classes from './TaskBank.module.css';\r\nimport Task from './TaskBank/Task';\r\nimport Discussion from './Discussion';\r\n\r\n\r\nconst TaskBank = () => {\r\n  const [open, setOpen] = useState(false);\r\n  const [taskName, setTaskName] = useState('');\r\n  const [taskId, setTaskId] = useState(null);\r\n  const [file, setFile] = useState(null);\r\n  const [tasks, setTasks] = useState([]);\r\n  const [discussionVisible, setDiscussionVisible] = useState(false);\r\n  const [selectedTaskName, setSelectedTaskName] = useState('');\r\n  const [comments, setComments] = useState([]);\r\n  const [loggedInUsername, setLoggedInUsername] = useState('');\r\n  const [loggedInId, setLoggedInId] = useState('');\r\n\r\n  \r\n  useEffect(() => {\r\n    fetchTasks();\r\n    const storedUsername = sessionStorage.getItem('username');\r\n    const storageId = sessionStorage.getItem('userId');\r\n    if (storedUsername && storageId) {\r\n      setLoggedInUsername(storedUsername);\r\n      setLoggedInId(storageId);\r\n\r\n    }\r\n  }, []);\r\n\r\n  const fetchTasks = useCallback(async () => {\r\n    try {\r\n      const response = await axios.get('http://127.0.0.1:8000/api/v1/tasks/');\r\n      if (response.status) {\r\n        setTasks(response.data);\r\n      } else {\r\n        console.error('Ошибка при загрузке задач');\r\n      }\r\n    } catch (error) {\r\n      console.error('Ошибка при выполнении запроса:', error);\r\n    }\r\n  }, []);\r\n\r\n\r\n\r\n  const handleAddTask = async () => {\r\n    try {\r\n      const taskData = new FormData();\r\n      taskData.append('title', taskName);\r\n      taskData.append('username', loggedInUsername);\r\n      taskData.append('user', loggedInId);\r\n      taskData.append('content', file);\r\n\r\n      const response = await axios.post('http://127.0.0.1:8000/api/v1/tasks/create/', taskData);\r\n\r\n      console.log(response);\r\n\r\n      if (response.status) {\r\n        console.log('Задача успешно добавлена');\r\n        await fetchTasks();\r\n        setOpen(false);\r\n        setTaskName('');\r\n        setFile(null);\r\n      } else {\r\n        console.log('Полный ответ сервера:', response);\r\n        console.error('Ошибка при добавлении задачи');\r\n      }\r\n    } catch (error) {\r\n      console.error('Ошибка при выполнении запроса:', error);\r\n    }\r\n  };\r\n\r\n  const handleDiscussionClick = (taskId, taskName) => {\r\n    setSelectedTaskName(taskName);\r\n    setDiscussionVisible(true);\r\n    setComments([]);\r\n    setTaskId(taskId);\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    const selectedFile = e.target.files[0];\r\n    setFile(selectedFile);\r\n  };\r\n\r\n  const handleDeleteTask = async (taskId) => {\r\n    try {\r\n      const response = await axios.delete(`http://127.0.0.1:8000/api/v1/tasks/${taskId}/delete/`);\r\n      \r\n      if (response.status) {\r\n        console.log('Задача успешно удалена');\r\n        fetchTasks();\r\n      } else {\r\n        console.error('Ошибка при удалении задачи');\r\n      }\r\n    } catch (error) {\r\n      console.error('Ошибка при выполнении запроса:', error);\r\n    }\r\n  };\r\n\r\n  \r\n\r\n  return (\r\n    <div className={classes.TaskBank}>\r\n      <div className={classes.TaskAuthorName}>\r\n        {loggedInUsername ? `Вы вошли в систему под именем ${loggedInUsername}` : 'Вы не вошли в систему'}\r\n      </div>\r\n      <div className={classes.TaskBankContainer}>\r\n        <h2 className={classes.TaskBankHeader}>банк задач</h2>\r\n        <div className={classes.TaskBankTH}>\r\n          <div className={classes.TaskTitle}>Предложенная задача</div>\r\n          <div className={classes.TaskAuthor}>Автор</div>\r\n        </div>\r\n        <div className={classes.TasksContainer}>\r\n          {tasks.map((task, index) => (\r\n            <Task\r\n              key={index}\r\n              task={task}\r\n              onClickDiscussion={() =>handleDiscussionClick(task.id, task.title)}\r\n              onDeleteTask={handleDeleteTask}\r\n            />\r\n          ))}\r\n        </div>\r\n        <button onClick={() => setOpen(true)} className={classes.TaskBtn}>\r\n          Добавить задачу\r\n        </button>\r\n        {open && (\r\n          <div className={classes.Overlay}>\r\n            <div className={classes.Modal}>\r\n              <div className={classes.FileUpload}>\r\n                <input\r\n                  accept='.pdf'\r\n                  name='upload'\r\n                  type='file'\r\n                  onChange={handleFileChange}\r\n                />\r\n                <div\r\n                  className={classes.Close}\r\n                  onClick={() => setOpen(false)}\r\n                  data-close\r\n                >\r\n                  &times;\r\n                </div>\r\n              </div>\r\n              <input\r\n                placeholder='Введите название задачи'\r\n                name='taskName'\r\n                type='text'\r\n                value={taskName}\r\n                onChange={(e) => setTaskName(e.target.value)}\r\n              />\r\n              <button onClick={handleAddTask}>Отправить</button>\r\n            </div>\r\n          </div>\r\n        )}\r\n        {discussionVisible && (\r\n          <Discussion\r\n            userId={loggedInId}\r\n            taskId={taskId}\r\n            TaskName={selectedTaskName}\r\n            setDiscussionVisible={setDiscussionVisible}\r\n            comments={comments}\r\n            setComments={setComments}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { TaskBank };\r\n","D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\TaskBank\\Task.jsx",[],[],"D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\Discussion.jsx",["142"],[],"import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport classes from './Discussion.module.css';\r\n\r\nconst Discussion = ({userId, taskId, TaskName, setDiscussionVisible, comments, setComments }) => {\r\n  const [comment, setComment] = useState('');\r\n\r\n\r\n  const fetchComments = async () => {\r\n    try {\r\n      const response = await axios.get(`http://127.0.0.1:8000/api/v1/comments/`);\r\n      setComments(response.data.filter(comment => comment.task === taskId));\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchComments();\r\n  }, [taskId]);\r\n\r\n  const handleAddComment = async () => {\r\n    if (comment) {\r\n      try {\r\n        const newComment = {\r\n          user: userId,\r\n          task: taskId,\r\n          content: comment,\r\n        };\r\n\r\n        await axios.post('http://127.0.0.1:8000/api/v1/comments/create/', newComment);\r\n        fetchComments();\r\n        setComment('');\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleDeleteComment = async (commentId) => {\r\n    try {\r\n      await axios.delete(`http://127.0.0.1:8000/api/v1/comments/${commentId}/delete/`);\r\n      fetchComments();\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const handleCloseDiscussion = () => {\r\n    setDiscussionVisible(false);\r\n  };\r\n\r\n  return (\r\n    <section className={classes.Discussion}>\r\n      <div className={classes.DiscussionContainer}>\r\n        <button onClick={handleCloseDiscussion} className={classes.CloseButton}>\r\n          &times;\r\n        </button>\r\n        <div className={classes.DiscussionTitle}>{TaskName}</div>\r\n        <div className={classes.Discussions}>\r\n          {comments.map((comment, index) => (\r\n            <div key={index} className={classes.DiscussionContent}>\r\n              <div className={classes.CommentPerson}>{comment.username}</div>\r\n              <div className={classes.Comment}>{comment.content}</div>\r\n              <button onClick={() => handleDeleteComment(comment.id)} className={classes.DeleteButton}>\r\n                Удалить\r\n              </button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <div className={classes.CommentInputContainer}>\r\n        <textarea\r\n          className={classes.CommentInput}\r\n          placeholder=\"Введите комментарий\"\r\n          value={comment}\r\n          onChange={(e) => setComment(e.target.value)}\r\n        />\r\n        <button onClick={handleAddComment} className={classes.DiscussionBtn}>\r\n          Добавить комментарий\r\n        </button>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Discussion;\r\n","D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\RouterSection.jsx",[],[],"D:\\OSPanel\\domains\\vsosh_api\\frontend\\src\\components\\AuthRouter.jsx",[],[],{"ruleId":"143","replacedBy":"144"},{"ruleId":"145","severity":1,"message":"146","line":30,"column":6,"nodeType":"147","endLine":30,"endColumn":8,"suggestions":"148"},{"ruleId":"145","severity":1,"message":"149","line":20,"column":6,"nodeType":"147","endLine":20,"endColumn":14,"suggestions":"150"},"no-new-object",["151"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fetchTasks'. Either include it or remove the dependency array.","ArrayExpression",["152"],"React Hook useEffect has a missing dependency: 'fetchComments'. Either include it or remove the dependency array.",["153"],"no-object-constructor",{"desc":"154","fix":"155"},{"desc":"156","fix":"157"},"Update the dependencies array to be: [fetchTasks]",{"range":"158","text":"159"},"Update the dependencies array to be: [fetchComments, taskId]",{"range":"160","text":"161"},[1073,1075],"[fetchTasks]",[608,616],"[fetchComments, taskId]"]